!function(t){function i(a){if(e[a])return e[a].exports;var n=e[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){var a=e(1),n=e(2),r=e(3);$(function(){var t=new n({id:"thumbnail001",data:{},btn:"#js-thumb-upload__btn",removeBtn:".js−thumb-remove",renderWrapper:$("#js-thumb-upload"),template:'<li class="thumb-upload__list list-unstyled"><div class="thumb-upload__img"><img src="" height="80" data-toggle="modal" data-target="#myModal"></div><div class="js−thumb-remove thumb-upload__remove">×</div></li>',limit:5,setLayout:!0,before:function(){var t=this;a.getData(this.id)&&(this.data=JSON.parse(a.getData(this.id)),$.each(this.data,function(i,e){t.imageFile={id:e.lastModified,name:e.name,lastModified:e.lastModified,url:e.url},t.renderThumb(),t.setLayout&&t.setThumbLayout(),t.toggleThumbDisplay(),r.init(t.thumb)}))},removeCallback:function(t){delete this.data[$(t).attr("id")],a.setData(this.id,this.data)},callback:function(){var i=this;t.data[this.imageFile.lastModified]=this.imageFile,a.setData(this.id,t.data),r.init(i.thumb)}})})},function(t,i){var e={storage:localStorage,setData:function(t,i){var e=$.isPlainObject(i)?JSON.stringify(i):i;this.storage.setItem(t,e)},getData:function(t){return this.storage.getItem(t)},removeData:function(t){this.storage.remove(t)}};t.exports=e},function(t,i){var e=function(t){this.postedfile=$(".file-posted"),$.extend(!0,this,t),this.before&&this.before(),this.initEvents()};e.prototype.initEvents=function(){var t=this;$(this.btn).on("change","input",function(i){t.checkFileApiSupport()&&(t.readImageFile(i.target.files),$(i.target).val(""))}),this.renderWrapper.on("click",this.removeBtn,function(i){var e=$(i.target).closest(".thumb-upload__list");t.removeCallback&&t.removeCallback(e),e.remove(),t.toggleThumbDisplay()})},e.prototype.readImageFile=function(t){var i=this;$(t).each(function(t,e){if(e.type.indexOf("image")>=0){var a=new FileReader;a.onload=function(t){i.imageFile={id:e.lastModified,name:e.name,lastModified:e.lastModified,url:t.target.result},i.renderThumb(),i.setLayout&&i.setThumbLayout(),i.toggleThumbDisplay(),i.callback&&i.callback()},a.readAsDataURL(e)}})},e.prototype.checkFileApiSupport=function(){return window.File&&window.FileReader&&window.FileList&&window.Blob?(console.log("[COMMENT] All the File APIs are supported."),!0):(alert("The File APIs are not fully supported in this browser."),!1)},e.prototype.renderThumb=function(){this.thumb=$(this.template),$(this.thumb).attr("id",this.imageFile.id).find("img").attr("src",this.imageFile.url).attr("alt",this.imageFile.name).attr("role","posted-file"),this.renderWrapper.append(this.thumb)},e.prototype.toggleThumbDisplay=function(){var t=this.renderWrapper.find("img[role=posted-file]").length>=this.limit;$(this.btn).toggleClass("disabled",t),$(this.btn).find("input").prop("disabled",t)},e.prototype.setThumbLayout=function(){var t,i,e,a=new Image;a.src=this.imageFile.url,t=a.width,i=a.height,this.thumb.find("img").attr("height",t>i?this.thumb.innerHeight():"auto"),this.thumb.find("img").attr("width",t>i?"auto":this.thumb.innerWidth()),e=this.thumb.innerWidth()/2-this.thumb.find("img").innerWidth()/2,this.thumb.find("img").css("margin-left",e+"px")},t.exports=e},function(t,i){var e={init:function(t){this.target=t,this.initEvent()},initEvent:function(){$(this.target).on("click",function(t){$(".modal-title").text($(this).find("img").attr("alt")).css("text-align","center"),$(".modal-body").html('<img src="'+$(this).find("img").attr("src")+'" height="300">').css("text-align","center")})}};t.exports=e}]);